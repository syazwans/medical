<script src="/PERKESO_UI/assets/node_modules/jquery/jquery-3.2.1.min.js"></script>
<!-- Bootstrap popper Core JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/popper/popper.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- slimscrollbar scrollbar JavaScript -->
<script src="/dist/js/perfect-scrollbar.jquery.min.js"></script>
<!--Wave Effects -->
<script src="/PERKESO_UI/horizontal-nav-fullwidth/dist/js/waves.js"></script>
<!--Menu sidebar -->
<script src="/PERKESO_UI/horizontal-nav-fullwidth/dist/js/sidebarmenu.js"></script>
<!--Custom JavaScript -->
<script src="/PERKESO_UI/horizontal-nav-fullwidth/dist/js/custom.min.js"></script>
<!-- ============================================================== -->
<!-- This page plugins -->
<!-- ============================================================== -->
<!-- Flot Charts JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/flot/jquery.flot.js"></script>
<script src="/PERKESO_UI/assets/node_modules/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
<!--sparkline JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/sparkline/jquery.sparkline.min.js"></script>
<!-- EASY PIE CHART JS -->
<script src="/PERKESO_UI/assets/node_modules/jquery.easy-pie-chart/dist/jquery.easypiechart.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/jquery.easy-pie-chart/easy-pie-chart.init.js"></script>
<!-- Vector map JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/vectormap/jquery-jvectormap-2.0.2.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/vectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- Chart JS -->
<script src="/PERKESO_UI/horizontal-nav-fullwidth/dist/js/dashboard2.js"></script>

<script src="/PERKESO_UI/assets/node_modules/dropify/dist/js/dropify.min.js"></script>



{{-- <script src="/PERKESO_UI/assets/node_modules/moment/moment.js"></script> --}}
<script
    src="/PERKESO_UI/assets/node_modules/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js">
</script>
<!-- Clock Plugin JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/clockpicker/dist/jquery-clockpicker.min.js"></script>
<!-- Color Picker Plugin JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/jquery-asColor/dist/jquery-asColor.js"></script>
<script src="/PERKESO_UI/assets/node_modules/jquery-asGradient/dist/jquery-asGradient.js"></script>
<script src="/PERKESO_UI/assets/node_modules/jquery-asColorPicker-master/dist/jquery-asColorPicker.min.js"></script>
<!-- Date Picker Plugin JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<!-- Date range Plugin JavaScript -->
<script src="/PERKESO_UI/assets/node_modules/timepicker/bootstrap-timepicker.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/bootstrap-daterangepicker/daterangepicker.js"></script>

<script src="/PERKESO_UI/assets/node_modules/wizard/jquery.steps.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/wizard/jquery.validate.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/sweetalert/sweetalert.min.js"></script>

<script src="/PERKESO_UI/assets/node_modules/switchery/dist/switchery.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/select2/dist/js/select2.full.min.js" type="text/javascript"></script>
<script src="/PERKESO_UI/assets/node_modules/bootstrap-select/bootstrap-select.min.js" type="text/javascript"></script>
<script src="/PERKESO_UI/assets/node_modules/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.js" type="text/javascript"></script>
<script src="/PERKESO_UI/assets/node_modules/dff/dff.js" type="text/javascript"></script>
<script type="text/javascript" src="/PERKESO_UI/assets/node_modules/multiselect/js/jquery.multi-select.js"></script>


<!-- Bootstrap tether Core JavaScript -->


<!-- slimscrollbar scrollbar JavaScript -->

<!--Wave Effects -->
<script src="dist/js/waves.js"></script>
<!--Menu sidebar -->
<script src="dist/js/sidebarmenu.js"></script>
<!--stickey kit -->
<script src="../assets/node_modules/sticky-kit-master/dist/sticky-kit.min.js"></script>
<!--Custom JavaScript -->
<script src="dist/js/custom.min.js"></script>


<script src="{{ asset('/js/validation/noticedeath.js') }}"></script>
<script src="{{ asset('/js/validation/noticetype.js') }}"></script>
<script src="{{ asset('/js/validation/noticeaccident.js') }}"></script>
<script src="{{ asset('/js/validation/noticeilat.js') }}"></script>
<script src="{{ asset('/js/validation/noticeod.js') }}"></script>
<script src="{{ asset('/js/perkeso_ui/perkeso.js') }}"></script>

<script src="/PERKESO_UI/assets/node_modules/wizard/jquery.steps.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/wizard/jquery.validate.min.js"></script>
<script src="/PERKESO_UI/assets/node_modules/sweetalert/sweetalert.min.js"></script>

 <!-- This is data table -->
 <script src="/PERKESO_UI/assets/node_modules/datatables/datatables.min.js"></script>
 <!-- start - This is for export functionality only -->
 <script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
 <script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.flash.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
 <script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
 <script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.print.min.js"></script>
 <!-- end - This is for export functionality only -->

 <script src="/PERKESO_UI/assets/node_modules/sweetalert/jquery.sweet-alert.custom.js"></script>
 

<script>
    $(document).ready(function(){
        $('.default').hide();
        $('#cardt').hide();
        $('#cardt2').hide();
        $('#Query').hide();
        $('#collapseOne111').hide();
        $('#headingTwo222').hide();
        $('#headingThree33').hide();
        $('#myTable2').hide();
        $('#committee').hide();
        $('#headingone').hide();
        $('#headingtwo').hide();
        $('#headingthree').hide();
        $('#headingfour').hide();
        $('#collapseone').hide();
                $('#hello').hide();
        $('select[name=moreinfo]').change(function () {
            if (this.value == 'N') {
                $('.default').show();
                $('#Opinion').show();
                $('#Sec').show();
                $('#cardt').show();
                $('#cardt2').hide();
                $('#collapseOne111').hide();
                $('#Query').hide();
                $('#headingTwo222').hide();
                $('#headingThree33').hide();
                $('#committee').hide();
                $('#myTable2').show();
                $('#headingone').hide();
                $('#headingtwo').hide();
                $('#headingthree').hide();
                $('#headingfour').hide();
                $('#headingfive').hide();
                $('#collapseone').hide();
                $('#hello').hide();
                $('#moreinfo').attr(true);
                
            }
            else if (this.value == 'Y') {
                $('#Opinion').hide();
                $('#Sec').hide();
                $('#cardt').hide();
                $('#cardt2').show();
                $('#collapseOne111').show();
                $('#Query').show();
                $('#headingTwo222').show();
                $('#headingThree33').show();
                $('#committee').hide();
                $('#myTable2').hide();
                $('#headingone').hide();
                $('#headingtwo').hide();
                $('#headingthree').hide();
                $('#headingfour').hide();
                $('#headingfive').hide();
                $('#collapseone').hide();
                $('#hello').hide();
                $('#moreinfo').attr(true);
            }
            else{
                $('#Opinion').hide();
                $('#Sec').hide();
                $('#cardt').hide();
                $('#cardt2').hide();
                $('#collapseOne111').hide();
                $('#Query').hide();
                $('#headingTwo222').hide();
                $('#headingThree33').hide();
                $('#myTable2').hide();
                $('#committee').show();
                $('#headingone').show();
                $('#headingtwo').show();
                $('#headingthree').show();
                $('#headingfour').show();
                $('#headingfive').show();
                $('#collapseone').show();
                $('#hello').hide();
                $('#moreinfo').attr(true);
            }
        });
    }); 


    
    // MAterial Date picker    
    $('#mdate').bootstrapMaterialDatePicker({ weekStart: 0, time: false });
    $('#timepicker').bootstrapMaterialDatePicker({ format: 'HH:mm', time: true, date: false });
    $('#date-format').bootstrapMaterialDatePicker({ format: 'dddd DD MMMM YYYY - HH:mm' });

    $('#min-date').bootstrapMaterialDatePicker({ format: 'DD/MM/YYYY HH:mm', minDate: new Date() });
    // Clock pickers
    $('#single-input').clockpicker({
        placement: 'bottom',
        align: 'left',
        autoclose: true,
        'default': 'now'
    });
    $('.clockpicker').clockpicker({
        donetext: 'Done',
    }).find('input').change(function() {
        console.log(this.value);
    });
    $('#check-minutes').click(function(e) {
        // Have to stop propagation here
        e.stopPropagation();
        input.clockpicker('show').clockpicker('toggleView', 'minutes');
    });
    if (/mobile/i.test(navigator.userAgent)) {
        $('input').prop('readOnly', true);
    }
    // Colorpicker
    $(".colorpicker").asColorPicker();
    $(".complex-colorpicker").asColorPicker({
        mode: 'complex'
    });
    $(".gradient-colorpicker").asColorPicker({
        mode: 'gradient'
    });
    // Date Picker
    jQuery('.mydatepicker, #datepicker').datepicker();
    jQuery('#datepicker-autoclose').datepicker({
        autoclose: true,
        todayHighlight: true
    });
    jQuery('#date-range').datepicker({
        toggleActive: true
    });
    jQuery('#datepicker-inline').datepicker({
        todayHighlight: true
    });
    // Daterange picker
    $('.input-daterange-datepicker').daterangepicker({
        buttonClasses: ['btn', 'btn-sm'],
        applyClass: 'btn-danger',
        cancelClass: 'btn-inverse'
    });
    $('.input-daterange-timepicker').daterangepicker({
        timePicker: true,
        format: 'MM/DD/YYYY h:mm A',
        timePickerIncrement: 30,
        timePicker12Hour: true,
        timePickerSeconds: false,
        buttonClasses: ['btn', 'btn-sm'],
        applyClass: 'btn-danger',
        cancelClass: 'btn-inverse'
    });
    $('.input-limit-datepicker').daterangepicker({
        format: 'MM/DD/YYYY',
        minDate: '06/01/2015',
        maxDate: '06/30/2015',
        buttonClasses: ['btn', 'btn-sm'],
        applyClass: 'btn-danger',
        cancelClass: 'btn-inverse',
        dateLimit: {
            days: 6
        }
    });

    
    $(function() {
        $('#myTable').DataTable();
        $(function() {
            var table = $('#example').DataTable({
                "columnDefs": [{
                    "visible": false,
                    "targets": 2
                }],
                "order": [
                    [2, 'asc']
                ],
                "displayLength": 25,
                "drawCallback": function(settings) {
                    var api = this.api();
                    var rows = api.rows({
                        page: 'current'
                    }).nodes();
                    var last = null;
                    api.column(2, {
                        page: 'current'
                    }).data().each(function(group, i) {
                        if (last !== group) {
                            $(rows).eq(i).before('<tr class="group"><td colspan="5">' + group + '</td></tr>');
                            last = group;
                        }
                    });
                }
            });
            // Order by the grouping
            $('#example tbody').on('click', 'tr.group', function() {
                var currentOrder = table.order()[0];
                if (currentOrder[0] === 2 && currentOrder[1] === 'asc') {
                    table.order([2, 'desc']).draw();
                } else {
                    table.order([2, 'asc']).draw();
                }
            });
        });
    });
    $('#example23').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    });
    $('.buttons-copy, .buttons-csv, .buttons-print, .buttons-pdf, .buttons-excel').addClass('btn btn-primary mr-1');
    </script>

<script>
    $(document).ready(function(){
        // Add minus icon for collapse element which is open by default
        $(".collapse.show").each(function(){
        $(this).prev(".card-header").find(".fa").addClass("fa-minus").removeClass("fa-plus");
        });
        
        // Toggle plus minus icon on show hide of collapse element
        $(".collapse").on('show.bs.collapse', function(){
        $(this).prev(".card-header").find(".fa").removeClass("fa-plus").addClass("fa-minus");
        }).on('hide.bs.collapse', function(){
        $(this).prev(".card-header").find(".fa").removeClass("fa-minus").addClass("fa-plus");
        });
    });



    
//  syauqi punya 

$("#btn_diagnosis").click(function () {
        var diagnosis = $('#id_diagnosis').val();
        var no = $('#myTable2 tr:last td:first').find("input").val();
        no++;
        // var no_index = no++
        $('#myTable2 > tbody:last-child').append('<tr id="row2'+no+'" ><td><input type="hidden" value="'+no+'">'+no+'</td><td>'+diagnosis+'</td><td><div class="input-group-append"><span class="input-group-text"style="background-color: #d8e8e9;"><a class="get-code" href="#tt1"aria-expanded="true"><i class="fas fa-edit"title="Update" data-toggle="tooltip"></i></a></span>&nbsp;<span class="input-group-text"style="background-color: #d8e8e9;"><a id="delete'+no+'" class="get-code" href="#tt1"aria-expanded="true"><i class="fas fa-trash-alt fa-sm" title="Delete" data-toggle="tooltip"></i></a></span>&nbsp;<span class="input-group-text"style="background-color: #d8e8e9;"><a class="get-code" href="#tt1"aria-expanded="true"><i class=" fas fa-eye"title="View" data-toggle="tooltip"></i></a></span></div></td></tr>');
        $('#delete'+no+'').click(function(){
            alert('Are you sure want to delete the draft? ');

            $('#myTable2').each(function(){
            $('#row2'+no+'').remove();
        });
        });
    });

    $("#btn_clarification").click(function () {
        var no = $('#myTable_clarification tr:last td:first').find("input").val();
        var delete1 = "('Are you sure want to delete the draft?')";
        no++;
        // var no = no++;
        $('#myTable_clarification > tbody:last-child').append('<tr id="clari'+no+'"> <td style="display:none;"><input type="hidden" value="'+no+'"></td><td>'+no+'</td> <td><input type="text" value="" class="form-control"></td> <td></td> <td><a class="btn btn-sm btn-danger"  id="deletedraft'+no+'" confirm('+delete1+'); ><i class="fas fa-trash-alt fa-sm"></i></a></td> </tr>');
        $('#deletedraft'+no+'').click(function(){
            alert('Are you sure want to delete the draft? ');

            $('#myTable_clarification').each(function(){
            $('#clari'+no+'').remove();
        });
        });
    });

    $("#btn_moei_investigation").click(function () {
        var no = $('#myTable_moei_investigation tr:last td:first').find("input").val();
        var delete1 = "('Are you sure want to delete the draft?')";
        no++;
        // var no = no++;
        $('#myTable_moei_investigation > tbody:last-child').append('<tr id="moei'+no+'"> ' +
        '<td style="display:none;"><input type="hidden" value="'+no+'"></td>' +
        '<td>'+no+'</td> <td><input type="text" value="" class="form-control"></td>' +
        '<td><input type="text" value="" class="form-control"></td>'+ 
        '<td><input type="text" value="" class="form-control"></td>'+ 
        '<td><input type="text" value="" class="form-control"></td>'+ 
        '<td><input type="text" value="" class="form-control"></td>'+ 
        '<td><select class="form-control" name="moreinfo" id="moreinfo"> <option value="PS" hidden selected readonly>Please Select</option><option value="Y">Yes</option> <option value="N">No</option><option value="N">Not Applicable</option></select></td>'+ 
        '<td><a class="btn btn-sm btn-danger"  id="deletedraft'+no+'" confirm('+delete1+'); ><i class="fas fa-trash-alt fa-sm"></i></a></td> </tr>');
        $('#deletedraft'+no+'').click(function(){
            alert('Are you sure want to delete the draft? ');

            $('#myTable_moei_investigation').each(function(){
            $('#moei'+no+'').remove();
        });
        });
    });

    $("#btn_query").click(function () {
        var no = $('#myTable_query tr:last td:first').find("input").val();
        // var no = 1;
        var delete1 = "('Are you sure want to delete the draft?')";
        no++;
        // var no = no++;
        $('#myTable_query > tbody:last-child').append('<tr id="clari'+no+'"> <td style="display:none;"><input type="hidden" value="'+no+'"></td><td>'+no+'</td> <td>'+
                                                 '<select class="form-control" style="width:300px;" id="change">' +
                                                 '<option value="PS" hidden selected readonly>Please Select</option>' +
                                                 '<option value="1">Employer/Insured Person</option>' +
                                                 '<option value="2">Scheme</option>' +
                                                 '<option value="3">RTW</option>' +
                                                 '<option value="4">Medical Investigation-PERKESO Doctor</option>' +
                                                '<option value="5">Medical Investigation-Special Report</option>' +
                                                '<option value="6">Medical Investigation- Medical Clarification</option>' +
                                                '</select>'+
                                                ' <td><div class="input-group-append">'+
                                               ' <span class="input-group-text" style="background-color: #d8e8e9;"><a class="get-code" data-toggle="modal"'+
                                                'data-target="#modal_document" data-id="'+no+'"'+
                                                ' href="#tt'+no+'" aria-expanded="true"><i class="fas fa-file-alt"title="Request Document" data-toggle="tooltip"></i></a></span>'+
                                                '</div>'+
                                                '<p id="requestDoc'+no+'"></p></td>'+
                                                ' </div></td><td></td> <td><a class="btn btn-sm btn-danger"  id="deletedraft'+no+'" confirm('+delete1+'); ><i class="fas fa-trash-alt fa-sm"></i></a></td> </tr>');
                                           
                                                $(document).ready(function () {

                                                    $('select').on('change',function(){
                                                    //this is just getting the value that is selected
                                                    if ($(this).val() == "6") {
                                                        $('#medicalOpinionModal').modal('show');
                                                    }
                                                    //   $('#medicalOpinionModal').modal('hide');
                                                    });

                                                    });
                                                
                                                    
                                                    $('#deletedraft'+no+'').click(function(){
                                                        alert('Are you sure want to delete the draft? ');

                                                        $('#myTable_query').each(function(){
                                                        $('#clari'+no+'').remove();
                                                    });
                                                });
    });

  


    $(document).ready(function(){
        $('select[name=moreinfo2]').change(function () {

            if (this.value == 'M') {
                $('#hello').show();
                $('#moreinfo2').attr(true);
                
            }
            else{
                
                $('#hello').hide();
                $('#moreinfo2').attr(true);
            }
        });
    }); 

    
$(document).ready(function() {
    
    $('#modal_document').on('show.bs.modal',function(e){
        if($("input[name='medical_report']:checked").prop("checked") == true)
            $("input[name='medical_report']").prop("checked", false);

        var no_row = $(e.relatedTarget).data('id');
        console.log('Selected row: ' + no_row);
        
        var modal = $(this);
        modal.find('.submitModal').val(no_row);
        $('.submitModal').attr('id','submitModal' + no_row);

        $('.submitModal').click(function() {
            if($('.submitModal').val() == no_row){
                var fav = [];

                $.each($("input[name='medical_report']:checked"), function() {
                    fav.push($(this).val());
                });

                console.log(fav);

                $('#requestDoc' + no_row).html(fav.join(", "));

                console.log('Selected row fav: ' + no_row);

                $('#modal_document').modal('hide');
            }else{
                $('#modal_document').modal('hide');
            }
        });
    });
    
});

$(document).ready(function () {

$('select').on('change',function(){
  //this is just getting the value that is selected
  if ($(this).val() == "6") {
    $('#medicalOpinionModal').modal('show');
  }
//   $('#medicalOpinionModal').modal('hide');
});

});


</script>
<script src="/PERKESO_UI/assets/node_modules/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script>
jQuery('#date').datepicker({
    autoclose: true,
    toggleActive: true,
    format: 'dd/mm/yyyy',
});

</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>

